<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <link rel="icon" />
    <script type="text/javascript" src="/scripts/constants.js"></script>
    <script type="text/javascript" src="/scripts/utilities.js"></script>
    <script type="text/javascript" src="/scripts/script.js"></script>
    <script type="text/javascript" src="/scripts/icons.js"></script>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <h1>The Great Container Tab</h1>
    <div id="inputs">
      <input
        id="title"
        type="text"
        oninput="setTitle(this.value)"
        placeholder="Title"
      />
      <input
        id="favicon"
        type="text"
        oninput="setFavicon(this.value)"
        placeholder="Favicon Link (ex: google.com)"
      />
      <section id="favicons" class="favicons-container"></section>
      <section id="colors" class="colors-container"></section>
    </div>
  </body>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    if (!urlParams.has("favicon")) urlParams.set("favicon", "");
    if (!urlParams.has("color")) urlParams.set("color", colors[0]);

    let title = urlParams.get("title");
    document.getElementById("title").value = title === emptyTitle ? "" : title;
    setTitle(title);

    let favicon = urlParams.get("favicon");
    const faviconInput = document.getElementById("favicon");
    if (favicon.startsWith("[fav]")) {
      faviconInput.value = "";
    } else {
      faviconInput.value = favicon;
      setFavicon(favicon);
    }

    let colorParam = urlParams.get("color");
    currentColor = colorParam ?? colors[0];
    initializeIcons();
    initializeColors();
  </script>
</html>
